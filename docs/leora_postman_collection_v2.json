{
  "info": {
    "name": "Leora API - PostgreSQL Edition",
    "description": "To'liq Postman collection - barcha modullar PostgreSQL bilan ishlaydi",
    "version": "2.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:9090/api/v1", "type": "string" },
    { "key": "accessToken", "value": "", "type": "string" },
    { "key": "refreshToken", "value": "", "type": "string" },
    { "key": "userId", "value": "", "type": "string" },
    { "key": "taskId", "value": "", "type": "string" },
    { "key": "goalId", "value": "", "type": "string" },
    { "key": "habitId", "value": "", "type": "string" },
    { "key": "focusSessionId", "value": "", "type": "string" },
    { "key": "accountId", "value": "", "type": "string" },
    { "key": "transactionId", "value": "", "type": "string" },
    { "key": "budgetId", "value": "", "type": "string" },
    { "key": "debtId", "value": "", "type": "string" },
    { "key": "notificationId", "value": "", "type": "string" },
    { "key": "widgetId", "value": "", "type": "string" },
    { "key": "subscriptionId", "value": "", "type": "string" },
    { "key": "planId", "value": "", "type": "string" }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      { "key": "token", "value": "{{accessToken}}", "type": "string" }
    ]
  },
  "item": [
    {
      "name": "1. Auth (Authentication)",
      "description": "Foydalanuvchi autentifikatsiyasi - register, login, logout",
      "item": [
        {
          "name": "Register",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const json = pm.response.json();",
                  "if (json && json.data) {",
                  "  if (json.data.accessToken) pm.collectionVariables.set('accessToken', json.data.accessToken);",
                  "  if (json.data.refreshToken) pm.collectionVariables.set('refreshToken', json.data.refreshToken);",
                  "  if (json.data.user && json.data.user.id) pm.collectionVariables.set('userId', json.data.user.id);",
                  "  pm.test('Status code is 200', () => pm.response.to.have.status(200));",
                  "  pm.test('Access token returned', () => pm.expect(json.data.accessToken).to.not.be.empty);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"test@leora.uz\",\n  \"fullName\": \"Test User\",\n  \"password\": \"Test123456!\",\n  \"confirmPassword\": \"Test123456!\",\n  \"region\": \"UZ\",\n  \"currency\": \"UZS\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          }
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const json = pm.response.json();",
                  "if (json && json.data) {",
                  "  if (json.data.accessToken) pm.collectionVariables.set('accessToken', json.data.accessToken);",
                  "  if (json.data.refreshToken) pm.collectionVariables.set('refreshToken', json.data.refreshToken);",
                  "  if (json.data.user && json.data.user.id) pm.collectionVariables.set('userId', json.data.user.id);",
                  "  pm.test('Login successful', () => pm.response.to.have.status(200));",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"emailOrUsername\": \"test@leora.uz\",\n  \"password\": \"Test123456!\",\n  \"rememberMe\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Get Me (Current User)",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "me"]
            }
          }
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const json = pm.response.json();",
                  "if (json && json.data) {",
                  "  if (json.data.accessToken) pm.collectionVariables.set('accessToken', json.data.accessToken);",
                  "  if (json.data.refreshToken) pm.collectionVariables.set('refreshToken', json.data.refreshToken);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "refresh"]
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout"]
            }
          }
        }
      ]
    },
    {
      "name": "2. Tasks (Vazifalar)",
      "description": "Tasks moduli - PostgreSQL bilan ishlaydi",
      "item": [
        {
          "name": "List All Tasks",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/tasks",
              "host": ["{{baseUrl}}"],
              "path": ["tasks"]
            }
          }
        },
        {
          "name": "Create Task",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const json = pm.response.json();",
                  "if (json && json.data && json.data.id) {",
                  "  pm.collectionVariables.set('taskId', json.data.id);",
                  "  pm.test('Task created successfully', () => pm.response.to.have.status(200));",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"PostgreSQL migration qilish\",\n  \"status\": \"pending\",\n  \"priority\": \"high\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/tasks",
              "host": ["{{baseUrl}}"],
              "path": ["tasks"]
            }
          }
        },
        {
          "name": "Get Task by ID",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/tasks/{{taskId}}",
              "host": ["{{baseUrl}}"],
              "path": ["tasks", "{{taskId}}"]
            }
          }
        },
        {
          "name": "Update Task (PUT)",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"PostgreSQL migration tugallandi\",\n  \"status\": \"completed\",\n  \"priority\": \"high\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/tasks/{{taskId}}",
              "host": ["{{baseUrl}}"],
              "path": ["tasks", "{{taskId}}"]
            }
          }
        },
        {
          "name": "Update Task (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"in_progress\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/tasks/{{taskId}}",
              "host": ["{{baseUrl}}"],
              "path": ["tasks", "{{taskId}}"]
            }
          }
        },
        {
          "name": "Delete Task (Soft Delete)",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/tasks/{{taskId}}",
              "host": ["{{baseUrl}}"],
              "path": ["tasks", "{{taskId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "3. Goals (Maqsadlar)",
      "description": "Goals moduli - PostgreSQL bilan ishlaydi",
      "item": [
        {
          "name": "List All Goals",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/goals",
              "host": ["{{baseUrl}}"],
              "path": ["goals"]
            }
          }
        },
        {
          "name": "Create Goal",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const json = pm.response.json();",
                  "if (json && json.data && json.data.id) {",
                  "  pm.collectionVariables.set('goalId', json.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Go dasturlashni o'rganish\",\n  \"goalType\": \"education\",\n  \"status\": \"active\",\n  \"progressPercent\": 0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/goals",
              "host": ["{{baseUrl}}"],
              "path": ["goals"]
            }
          }
        },
        {
          "name": "Get Goal by ID",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/goals/{{goalId}}",
              "host": ["{{baseUrl}}"],
              "path": ["goals", "{{goalId}}"]
            }
          }
        },
        {
          "name": "Update Goal Progress",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"progressPercent\": 50\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/goals/{{goalId}}",
              "host": ["{{baseUrl}}"],
              "path": ["goals", "{{goalId}}"]
            }
          }
        },
        {
          "name": "Delete Goal",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/goals/{{goalId}}",
              "host": ["{{baseUrl}}"],
              "path": ["goals", "{{goalId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "4. Habits (Odatlar)",
      "description": "Habits moduli - PostgreSQL bilan ishlaydi",
      "item": [
        {
          "name": "List All Habits",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/habits",
              "host": ["{{baseUrl}}"],
              "path": ["habits"]
            }
          }
        },
        {
          "name": "Create Habit",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const json = pm.response.json();",
                  "if (json && json.data && json.data.id) {",
                  "  pm.collectionVariables.set('habitId', json.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Har kuni erta turish\",\n  \"habitType\": \"health\",\n  \"status\": \"active\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/habits",
              "host": ["{{baseUrl}}"],
              "path": ["habits"]
            }
          }
        },
        {
          "name": "Get Habit by ID",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/habits/{{habitId}}",
              "host": ["{{baseUrl}}"],
              "path": ["habits", "{{habitId}}"]
            }
          }
        },
        {
          "name": "Pause Habit",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"paused\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/habits/{{habitId}}",
              "host": ["{{baseUrl}}"],
              "path": ["habits", "{{habitId}}"]
            }
          }
        },
        {
          "name": "Delete Habit",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/habits/{{habitId}}",
              "host": ["{{baseUrl}}"],
              "path": ["habits", "{{habitId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "5. Focus Sessions (Fokus Sessiyalari)",
      "description": "Focus moduli - PostgreSQL bilan ishlaydi",
      "item": [
        {
          "name": "List All Focus Sessions",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/focus-sessions",
              "host": ["{{baseUrl}}"],
              "path": ["focus-sessions"]
            }
          }
        },
        {
          "name": "Create Focus Session",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const json = pm.response.json();",
                  "if (json && json.data && json.data.id) {",
                  "  pm.collectionVariables.set('focusSessionId', json.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"taskId\": \"{{taskId}}\",\n  \"plannedMinutes\": 25,\n  \"status\": \"active\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/focus-sessions",
              "host": ["{{baseUrl}}"],
              "path": ["focus-sessions"]
            }
          }
        },
        {
          "name": "Get Focus Session by ID",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/focus-sessions/{{focusSessionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["focus-sessions", "{{focusSessionId}}"]
            }
          }
        },
        {
          "name": "Complete Focus Session",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"completed\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/focus-sessions/{{focusSessionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["focus-sessions", "{{focusSessionId}}"]
            }
          }
        },
        {
          "name": "Delete Focus Session",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/focus-sessions/{{focusSessionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["focus-sessions", "{{focusSessionId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "6. Finance (Moliya)",
      "description": "Finance moduli - PostgreSQL bilan ishlaydi (4 ta entity)",
      "item": [
        {
          "name": "Accounts (Hisoblar)",
          "item": [
            {
              "name": "List All Accounts",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/accounts",
                  "host": ["{{baseUrl}}"],
                  "path": ["accounts"]
                }
              }
            },
            {
              "name": "Create Account",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json && json.data && json.data.id) {",
                      "  pm.collectionVariables.set('accountId', json.data.id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Asosiy hamyon\",\n  \"currency\": \"UZS\",\n  \"accountType\": \"cash\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/accounts",
                  "host": ["{{baseUrl}}"],
                  "path": ["accounts"]
                }
              }
            },
            {
              "name": "Get Account by ID",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/accounts/{{accountId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["accounts", "{{accountId}}"]
                }
              }
            },
            {
              "name": "Update Account",
              "request": {
                "method": "PUT",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Yangilangan hamyon\",\n  \"currency\": \"USD\",\n  \"accountType\": \"bank\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/accounts/{{accountId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["accounts", "{{accountId}}"]
                }
              }
            },
            {
              "name": "Delete Account",
              "request": {
                "method": "DELETE",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/accounts/{{accountId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["accounts", "{{accountId}}"]
                }
              }
            }
          ]
        },
        {
          "name": "Transactions (Tranzaksiyalar)",
          "item": [
            {
              "name": "List All Transactions",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/transactions",
                  "host": ["{{baseUrl}}"],
                  "path": ["transactions"]
                }
              }
            },
            {
              "name": "Create Transaction",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json && json.data && json.data.id) {",
                      "  pm.collectionVariables.set('transactionId', json.data.id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"accountId\": \"{{accountId}}\",\n  \"amount\": 50000,\n  \"currency\": \"UZS\",\n  \"category\": \"food\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/transactions",
                  "host": ["{{baseUrl}}"],
                  "path": ["transactions"]
                }
              }
            },
            {
              "name": "Get Transaction by ID",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/transactions/{{transactionId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["transactions", "{{transactionId}}"]
                }
              }
            },
            {
              "name": "Update Transaction",
              "request": {
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"amount\": 75000,\n  \"category\": \"transport\"\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/transactions/{{transactionId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["transactions", "{{transactionId}}"]
                }
              }
            },
            {
              "name": "Delete Transaction",
              "request": {
                "method": "DELETE",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/transactions/{{transactionId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["transactions", "{{transactionId}}"]
                }
              }
            }
          ]
        },
        {
          "name": "Budgets (Byudjetlar)",
          "item": [
            {
              "name": "List All Budgets",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/budgets",
                  "host": ["{{baseUrl}}"],
                  "path": ["budgets"]
                }
              }
            },
            {
              "name": "Create Budget",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json && json.data && json.data.id) {",
                      "  pm.collectionVariables.set('budgetId', json.data.id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Ovqatlanish byudjeti\",\n  \"currency\": \"UZS\",\n  \"limit\": 1000000\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/budgets",
                  "host": ["{{baseUrl}}"],
                  "path": ["budgets"]
                }
              }
            },
            {
              "name": "Get Budget by ID",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/budgets/{{budgetId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["budgets", "{{budgetId}}"]
                }
              }
            },
            {
              "name": "Update Budget",
              "request": {
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"limit\": 1500000\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/budgets/{{budgetId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["budgets", "{{budgetId}}"]
                }
              }
            },
            {
              "name": "Delete Budget",
              "request": {
                "method": "DELETE",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/budgets/{{budgetId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["budgets", "{{budgetId}}"]
                }
              }
            }
          ]
        },
        {
          "name": "Debts (Qarzlar)",
          "item": [
            {
              "name": "List All Debts",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/debts",
                  "host": ["{{baseUrl}}"],
                  "path": ["debts"]
                }
              }
            },
            {
              "name": "Create Debt",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json && json.data && json.data.id) {",
                      "  pm.collectionVariables.set('debtId', json.data.id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Kredit\",\n  \"balance\": 5000000\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/debts",
                  "host": ["{{baseUrl}}"],
                  "path": ["debts"]
                }
              }
            },
            {
              "name": "Get Debt by ID",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/debts/{{debtId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["debts", "{{debtId}}"]
                }
              }
            },
            {
              "name": "Update Debt Balance",
              "request": {
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"balance\": 4500000\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/debts/{{debtId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["debts", "{{debtId}}"]
                }
              }
            },
            {
              "name": "Delete Debt",
              "request": {
                "method": "DELETE",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/debts/{{debtId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["debts", "{{debtId}}"]
                }
              }
            }
          ]
        }
      ]
    },
    {
      "name": "7. Notifications (Bildirishnomalar)",
      "description": "Notifications moduli - PostgreSQL bilan ishlaydi",
      "item": [
        {
          "name": "List All Notifications",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications",
              "host": ["{{baseUrl}}"],
              "path": ["notifications"]
            }
          }
        },
        {
          "name": "Create Notification",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const json = pm.response.json();",
                  "if (json && json.data && json.data.id) {",
                  "  pm.collectionVariables.set('notificationId', json.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Eslatma\",\n  \"message\": \"Vazifangizni bajarishni unutmang!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/notifications",
              "host": ["{{baseUrl}}"],
              "path": ["notifications"]
            }
          }
        },
        {
          "name": "Get Notification by ID",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications/{{notificationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "{{notificationId}}"]
            }
          }
        },
        {
          "name": "Update Notification",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Yangilangan xabar\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/notifications/{{notificationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "{{notificationId}}"]
            }
          }
        },
        {
          "name": "Delete Notification",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications/{{notificationId}}",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "{{notificationId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "8. Widgets (Vidjetlar)",
      "description": "Widgets moduli - PostgreSQL bilan ishlaydi, JSON config bilan",
      "item": [
        {
          "name": "List All Widgets",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/widgets",
              "host": ["{{baseUrl}}"],
              "path": ["widgets"]
            }
          }
        },
        {
          "name": "Create Widget",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "const json = pm.response.json();",
                  "if (json && json.data && json.data.id) {",
                  "  pm.collectionVariables.set('widgetId', json.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Kunlik xulosalar\",\n  \"config\": {\n    \"style\": \"compact\",\n    \"color\": \"blue\",\n    \"refreshInterval\": 60\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/widgets",
              "host": ["{{baseUrl}}"],
              "path": ["widgets"]
            }
          }
        },
        {
          "name": "Get Widget by ID",
          "request": {
            "method": "GET",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/widgets/{{widgetId}}",
              "host": ["{{baseUrl}}"],
              "path": ["widgets", "{{widgetId}}"]
            }
          }
        },
        {
          "name": "Update Widget Config",
          "request": {
            "method": "PATCH",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"config\": {\n    \"style\": \"expanded\",\n    \"color\": \"green\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/widgets/{{widgetId}}",
              "host": ["{{baseUrl}}"],
              "path": ["widgets", "{{widgetId}}"]
            }
          }
        },
        {
          "name": "Delete Widget",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{accessToken}}" }
            ],
            "url": {
              "raw": "{{baseUrl}}/widgets/{{widgetId}}",
              "host": ["{{baseUrl}}"],
              "path": ["widgets", "{{widgetId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "9. Premium (Obunalar)",
      "description": "Premium moduli - PostgreSQL bilan ishlaydi (Plans va Subscriptions)",
      "item": [
        {
          "name": "Plans (Tariflar)",
          "item": [
            {
              "name": "List All Plans",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/subscriptions/plans",
                  "host": ["{{baseUrl}}"],
                  "path": ["subscriptions", "plans"]
                }
              }
            },
            {
              "name": "Create Plan (Admin)",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json && json.data && json.data.id) {",
                      "  pm.collectionVariables.set('planId', json.data.id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Premium\",\n  \"interval\": \"monthly\",\n  \"prices\": {\n    \"USD\": 9.99,\n    \"UZS\": 120000\n  }\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/subscriptions/plans",
                  "host": ["{{baseUrl}}"],
                  "path": ["subscriptions", "plans"]
                }
              }
            },
            {
              "name": "Get Plan by ID",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/subscriptions/plans/{{planId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["subscriptions", "plans", "{{planId}}"]
                }
              }
            }
          ]
        },
        {
          "name": "Subscriptions (Obunalar)",
          "item": [
            {
              "name": "List My Subscriptions",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/subscriptions",
                  "host": ["{{baseUrl}}"],
                  "path": ["subscriptions"]
                }
              }
            },
            {
              "name": "Create Subscription",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "const json = pm.response.json();",
                      "if (json && json.data && json.data.id) {",
                      "  pm.collectionVariables.set('subscriptionId', json.data.id);",
                      "}"
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"tier\": \"premium\",\n  \"status\": \"active\",\n  \"cancelAtPeriodEnd\": false\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/subscriptions",
                  "host": ["{{baseUrl}}"],
                  "path": ["subscriptions"]
                }
              }
            },
            {
              "name": "Get Subscription by ID",
              "request": {
                "method": "GET",
                "header": [
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "url": {
                  "raw": "{{baseUrl}}/subscriptions/{{subscriptionId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["subscriptions", "{{subscriptionId}}"]
                }
              }
            },
            {
              "name": "Cancel Subscription",
              "request": {
                "method": "PATCH",
                "header": [
                  { "key": "Content-Type", "value": "application/json" },
                  { "key": "Authorization", "value": "Bearer {{accessToken}}" }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"cancelAtPeriodEnd\": true\n}"
                },
                "url": {
                  "raw": "{{baseUrl}}/subscriptions/{{subscriptionId}}",
                  "host": ["{{baseUrl}}"],
                  "path": ["subscriptions", "{{subscriptionId}}"]
                }
              }
            }
          ]
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}
